<head>
	<title>Vetro</title>
<<<<<<< HEAD
	<script type="text/javascript">
      (function() {
       var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
       po.src = 'https://apis.google.com/js/client:plusone.js';
       var s = document.getElementsByTagName('script')[0]; 
       	   s.parentNode.insertBefore(po, s);
     })();
    	function signinCallback(authResult) {
		  if (authResult['access_token']) {
		    // Update the app to reflect a signed in user
		    // Hide the sign-in button now that the user is authorized, for example:
        var clientId = '202055712427.apps.googleusercontent.com';
        var scopes = 'https://www.googleapis.com/auth/plus.me';
		    document.getElementById('signinButton').setAttribute('style', 'display: none');
         gapi.client.load('youtube', 'v3', function() {
              console.log('Youtube api loaded');
         });
         gapi.client.load('plus', 'v1', function() {
                     console.log('plus loaded!');
                     });
        console.log("IS initialize? " + JSON.stringify(gapi.client));
		    console.log('Access Token: ' + authResult['access_token']);
        console.log(authResult['userinfo']);
		    gapi.client.setApiKey('AIzaSyBm3SF1e_SXkCPpQBBoPI37HrCfnuSfaRw');
        gapi.auth.setToken(authResult['access_token'],'AIzaSyBm3SF1e_SXkCPpQBBoPI37HrCfnuSfaRw');
        gapi.auth.authorize({client_id: clientId, scope: scopes, immediate: true}, makeApiCall);
        //console.log("Auth Token: " + gapi.auth.getToken());
		    //gapi.auth.setToken();
       
		    
		  } else if (authResult['error']) {
		    // Update the app to reflect a signed out user
		    // Possible error values:
		    //   "user_signed_out" - User is signed-out
		    //   "access_denied" - User denied access to your app
		    //   "immediate_failed" - Could not automatically log in the user
		    console.log('Sign-in state: ' + authResult['error']);
		    console.log('matay doh');
		  }
		}

		function makeApiCall() {
     
        //var request = gapi.client.youtube.channels.list({
       //     mine: true,
        //    part: 'contentDetails'
        //});

        //var request = gapi.client.plus.people()
        var request = gapi.client.plus.people.get({
               'userId': 'me'
        });

          request.execute(function(response) {
          // playlistId = response.result.items[0].contentDetails.relatedPlaylists.uploads;
          console.log("Response from youtube: " + JSON.stringify(response));
          //requestVideoPlaylist(playlistId);
        });

    }

    function requestVideoPlaylist(playlistId, pageToken) {
        $('#video-container').html('');
        var requestOptions = {
          playlistId: playlistId,
          part: 'snippet',
          maxResults: 10
        };
        if (pageToken) {
          requestOptions.pageToken = pageToken;
        }
        var request = gapi.client.youtube.playlistItems.list(requestOptions);
        request.execute(function(response) {
          // Only show the page buttons if there's a next or previous page.
          nextPageToken = response.result.nextPageToken;
          var nextVis = nextPageToken ? 'visible' : 'hidden';
          $('#next-button').css('visibility', nextVis);
          prevPageToken = response.result.prevPageToken
          var prevVis = prevPageToken ? 'visible' : 'hidden';
          $('#prev-button').css('visibility', prevVis);

          var playlistItems = response.result.items;
          if (playlistItems) {
            $.each(playlistItems, function(index, item) {
              displayResult(item.snippet);
            });
          } else {
            $('#video-container').html('Sorry you have no uploaded videos');
          }
        });
    }

    function displayResult(videoSnippet) {
      var title = videoSnippet.title;
      var videoId = videoSnippet.resourceId.videoId;
      $('#video-container').append('<p>' + title + ' - ' + videoId + '</p>');
    }

    // Retrieve the next page of videos.
    function nextPage() {
      requestVideoPlaylist(playlistId, nextPageToken);
    }

    // Retrieve the previous page of videos.
    function previousPage() {
      requestVideoPlaylist(playlistId, prevPageToken);
    }

    </script>
=======
>>>>>>> 0e5c4a6fe73cbbd4e177f5caf14dae6978217006
</head>

<body>
	{{>navbarmain}}
</body>

